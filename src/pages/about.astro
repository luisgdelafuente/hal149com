---
import Layout from "../layouts/Layout.astro";
import { getLangFromUrl, useTranslations } from '../i18n/ui';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Try to load i18n content, fallback to original
let i18nContent;
try {
  i18nContent = await import(`../i18n/content/${lang}.json`);
} catch (error) {
  console.warn(`Could not load i18n content for ${lang}, using fallback`);
}

const aboutContent = i18nContent?.default?.about || {
  title: "About",
  subtitle: "Learn more about HAL149",
  description: "From AI automations to strategic programs, HAL149 is your partner to build and deploy tailored AI strategies that drive real business results.",
  keywords: "HAL149, AI consulting, business optimization, ChatGPT optimization, AI strategy, artificial intelligence consulting",
  author: "HAL149"
};

const currentContent = aboutContent;
---

<Layout>
  <div class="bs-container py-16">
    <div class="max-w-6xl mx-auto">
      <!-- Hero Header -->
      <div class="text-center mb-20">
        <h1 class="bs-h1 mb-6">{currentContent.title}</h1>
        <p class="bs-body-text xl:text-xl max-w-3xl mx-auto text-bs-foreground-dark mb-8">
          {currentContent.subtitle}
        </p>
      </div>

      <!-- Main Content Sections -->
      <div class="grid gap-16">
        <!-- Mission Section -->
        <div class="max-w-4xl mx-auto">
          <div class="prose prose-lg max-w-none">
            <p class="bs-body-text text-bs-foreground-light leading-relaxed text-lg mb-8">
              {currentContent.description}
            </p>
            <p class="bs-body-text text-bs-foreground-light leading-relaxed text-lg mb-8">
              {currentContent.mission}
            </p>
            <p class="bs-body-text text-bs-foreground-light leading-relaxed text-lg">
              {currentContent.experience}
            </p>
          </div>
        </div>

        <!-- Call to Action Section -->
        <div class="text-center bg-gradient-to-r from-bs-primary to-bs-primary-dark rounded-2xl p-12 text-white">
          <h3 class="text-2xl md:text-3xl font-bold mb-4">
            {currentContent.cta_title}
          </h3>
          <p class="text-lg mb-8 opacity-90 max-w-2xl mx-auto">
            {currentContent.cta_content}
          </p>
          <button 
            type="button" 
            class="bs-btn" 
            onclick="demo.showModal()"
          >
            {currentContent.cta_button}
          </button>
        </div>
      </div>
    </div>
  </div>
</Layout>
