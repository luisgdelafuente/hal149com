/* 
 * Consolidated CSS file for optimal loading
 * Single Tailwind import to prevent CSS code splitting
 */

/* 1. Tailwind CSS - Import only once to prevent multiple bundles */
@import "tailwindcss";

/* 2. Global theme variables */
@theme {
  --font-display: var(--font-inter-display), "ui-sans-serif", "system-ui", "sans-serif";
  --font-body: var(--font-inter), "ui-sans-serif", "system-ui", "sans-serif";

  --color-bs-surface-0: #121212;
  --color-bs-surface-1: #18181B;
  --color-bs-surface-2: rgba(255, 255, 255, 0.03);
  --color-bs-surface-3: #2F2F31;

  --color-bs-foreground-light: #eee;
  --color-bs-foreground-dark: #9f9f9f;

  --color-current: currentColor;

  --ease-bs-bounce: linear(0,.01,.04 1.6%,.161 3.3%,.816 9.4%,1.046,1.189 14.4%,1.231,1.254 17%,1.259,1.257 18.6%,1.236,1.194 22.3%,1.057 27%,.999 29.4%,.955 32.1%,.942,.935 34.9%,.933,.939 38.4%,1 47.3%,1.011,1.017 52.6%,1.016 56.4%,1 65.2%,.996 70.2%,1.001 87.2%,1);

  --ease-bs-spring: linear(
    0, 0.009, 0.035 2.1%, 0.141, 0.281 6.7%, 0.723 12.9%, 0.938 16.7%, 1.017,
    1.077, 1.121, 1.149 24.3%, 1.159, 1.163, 1.161, 1.154 29.9%, 1.129 32.8%,
    1.051 39.6%, 1.017 43.1%, 0.991, 0.977 51%, 0.974 53.8%, 0.975 57.1%,
    0.997 69.8%, 1.003 76.9%, 1.004 83.8%, 1);
}

/* 3. Base styles - Essential layout and typography */
:root {
  color-scheme: dark;
  scroll-behavior: smooth;
  scroll-padding-top: 2em;
}

body {
  @apply bg-bs-surface-1 text-bs-foreground-light font-body selection:text-black selection:bg-amber-300;
}

/* 4. Typography styles */
.bs-h1 {
  @apply font-display font-medium text-balance text-5xl md:text-6xl;
}

.bs-h2 {
  @apply font-display font-medium text-balance text-3xl md:text-4xl;
}

.bs-h3 {
  @apply font-display font-medium text-balance text-lg md:text-2xl;
}

.bs-body-text {
  @apply leading-relaxed;
}

/* 5. Layout utilities */
.bs-container {
  inline-size: min(92vw, 90rem);
  margin-inline: auto;
}

.bs-mt-lg {
  @apply mt-16 lg:mt-32
}

.bs-mt-md {
  @apply mt-10 lg:mt-16
}

.bs-mt-sm {
  @apply mt-6 lg:mt-8
}

/* Custom aspect ratio for blog post thumbnails */
.aspect-16-9 {
  position: relative;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
}

.aspect-16-9 > * {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* 6. Button components */
.bs-btn {
  @apply
    active:translate-y-[1px]
    active:bg-bs-surface-2
    bg-bs-surface-3
    duration-200
    focus-visible:outline-none
    focus-visible:ring-2
    focus-visible:ring-white/75
    font-semibold
    px-5
    py-4
    rounded-md
    text-bs-foreground-light
    text-center
    transition-all
    relative
    overflow-clip
    before:flex
    before:inset-0
    before:bg-white
    before:rounded-sm
    before:absolute
    before:opacity-0
    before:-translate-x-full
    before:transition-all
    before:duration-300
    before:ease-out
    hover:before:translate-x-0
    hover:before:opacity-10
    active:before:opacity-0
    ;
}

/* 
 * Performance optimization: Critical CSS inlining
 * These styles are essential for above-the-fold rendering
 */
:root {
  /* Ensure critical variables are available immediately */
  --font-display: var(--font-inter-display), "ui-sans-serif", "system-ui", "sans-serif";
  --font-body: var(--font-inter), "ui-sans-serif", "system-ui", "sans-serif";
  --color-bs-surface-0: #121212;
  --color-bs-surface-1: #18181B;
  --color-bs-surface-2: rgba(255, 255, 255, 0.03);
  --color-bs-surface-3: #2F2F31;
  --color-bs-foreground-light: #eee;
  --color-bs-foreground-dark: #9f9f9f;
}

/* Font loading optimization */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('../fonts/Inter-Regular.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('../fonts/Inter-SemiBold.woff2') format('woff2');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('../fonts/Inter-Bold.woff2') format('woff2');
}

@font-face {
  font-family: 'InterDisplay';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('../fonts/InterDisplay-Regular.woff2') format('woff2');
}

@font-face {
  font-family: 'InterDisplay';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('../fonts/InterDisplay-Medium.woff2') format('woff2');
}

@font-face {
  font-family: 'InterDisplay';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url('../fonts/InterDisplay-SemiBold.woff2') format('woff2');
}

/* Critical above-the-fold styles */
body {
  background-color: var(--color-bs-surface-1);
  color: var(--color-bs-foreground-light);
  font-family: var(--font-body);
}

/* Ensure critical layout classes are available */
.bs-container {
  inline-size: min(92vw, 90rem);
  margin-inline: auto;
}

.bs-h1 {
  font-family: var(--font-display);
  font-weight: 500;
  text-wrap: balance;
  font-size: 3rem;
}

@media (min-width: 768px) {
  .bs-h1 {
    font-size: 3.75rem;
  }
}
